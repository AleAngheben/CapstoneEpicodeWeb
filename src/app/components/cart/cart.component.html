<div class="container" *ngIf="productsOnCart && productsOnCart.length > 0">
  <div class="row gap-3 justify-content-center">
    <h1 class="text-center mt-1 py-2 py-md-4">
      Your Bag &lpar;{{ productsOnCart.length }}&rpar;
    </h1>
    <div class="col-12 col-xl-7 bg-items rounded-4 px-4">
      <h2 class="text-center mt-3">Products</h2>
      <div *ngFor="let item of productsOnCart" class="d-flex py-3">
        <div class="col-2">
          <div class="rounded-3">
            <img
              src="{{ item.products.productImg }}"
              alt="{{ item.products.name }}"
              class="object-fit-cover rounded-3"
              id="cart-img"
            />
          </div>
        </div>
        <div
          class="col-9 offset-1 d-flex justify-content-between align-items-center"
        >
          <div>
            <h4 class="it-name">{{ item.products.name }}</h4>
            <p class="it-name-two">
              {{ item.products.name }} {{ item.products.sellerSurname }}
            </p>
          </div>

          <div class="d-flex align-items-center">
            <div>
              <div class="me-3 me-sm-5 pe-sm-5">
                <h3 class="m-0 it-price">{{ item.products.price }} €</h3>
              </div>
            </div>
            <div>
              <button class="btn delete" (click)="removeItemFromCart(item.id)">
                <i class="bi bi-trash3-fill fs-3"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="col-12 col-lg-4 text-center bg-sum d-flex flex-column rounded-4 px-4"
    >
      <h2 class="mt-3">Summary</h2>
      <div
        *ngFor="let item of productsOnCart"
        class="d-flex justify-content-between"
      >
        <div>
          <h4>{{ item.products.name }}</h4>
        </div>

        <div class="d-flex gap-2">
          <a class="my-counter" (click)="decreaseItemQuantity(item.id)"
            ><i class="bi bi-dash-circle"></i
          ></a>
          <div>
            <h5>Quantity: {{ item.quantity }}</h5>
          </div>
          <a class="my-counter" (click)="increaseItemQuantity(item.id)">
            <i class="bi bi-plus-circle"></i
          ></a>
        </div>
      </div>

      <div class="mt-auto mb-2">
        <h3>TOTAL AMOUNT: {{ cart?.cartPrice | number : "1.2-2" }} €</h3>
      </div>
      <div>
        <button
          class="btn btn-success mb-4 fw-bold px-4"
          [routerLink]="['/checkout']"
        >
          Checkout
        </button>
      </div>
    </div>
  </div>
</div>

<div
  class="container mt-5"
  *ngIf="!productsOnCart || productsOnCart.length === 0"
>
  <div class="row justify-content-center">
    <div><h1 class="text-center">Il tuo carrello è vuoto</h1></div>
    <div class="d-flex justify-content-center mt-4">
      <button
        class="btn hero-btn mb-4 rounded-5 px-4 py-2"
        [routerLink]="['/home']"
      >
        Go products page
      </button>
    </div>
  </div>
</div>
